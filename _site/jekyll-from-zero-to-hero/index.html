<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Jekyll - from zero to hero &#8211; Niklas' Blog</title>
<meta name="description" content="wow. much niklas. such awesome.">
<meta name="keywords" content="code, jekyll, linux, git, web">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="//niklas-heer.de/images/abstract-5.jpg">

<meta name="twitter:title" content="Jekyll - from zero to hero">
<meta name="twitter:description" content="wow. much niklas. such awesome.">
<meta name="twitter:creator" content="@niklas_heer">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Jekyll - from zero to hero">
<meta property="og:description" content="wow. much niklas. such awesome.">
<meta property="og:url" content="//niklas-heer.de/jekyll-from-zero-to-hero/">
<meta property="og:site_name" content="Niklas' Blog">





<link rel="canonical" href="//niklas-heer.de/jekyll-from-zero-to-hero/">
<link href="//niklas-heer.de/feed.xml" type="application/atom+xml" rel="alternate" title="Niklas' Blog Feed">
<link rel="author" href="https://google.com/+NiklasHeer?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="//niklas-heer.de/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="//niklas-heer.de/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="//niklas-heer.de/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="//niklas-heer.de/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="//niklas-heer.de/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="//niklas-heer.de/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="//niklas-heer.de/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="//niklas-heer.de/images/apple-touch-icon-144x144-precomposed.png">



</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="//niklas-heer.de">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="//niklas-heer.de/images/avatar.jpg" alt="Niklas Heer photo" class="author-photo">
					<h4>Niklas Heer</h4>
					<p>I'm a developer focused on the web. I love technologie and I like to discover new things.</p>
				</li>
				<li><a href="//niklas-heer.de/about/">Learn More</a></li>
				<li>
					<a href="mailto:niklas.heer@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/niklas_heer"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="https://google.com/+NiklasHeer"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				
				<li>
					<a href="http://github.com/niklas-heer"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="//niklas-heer.de/posts/">All Posts</a></li>
				<li><a href="//niklas-heer.de/tags/">All Tags</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://www.dargadgetz.com/ios-7-abstract-wallpaper-pack-for-iphone-5-and-ipod-touch-retina/">dargadgetz</a></div><!-- /.image-credit -->
  <div class="entry-image">
    <img src="//niklas-heer.de/images/abstract-5.jpg" alt="Jekyll - from zero to hero">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="//niklas-heer.de/jekyll-from-zero-to-hero/" rel="bookmark" title="Jekyll - from zero to hero">Jekyll - from zero to hero</a></h1>
        
        <h2>December 05, 2014</h2>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~4 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <center>
    <figure>
        <a href="/assets/images/2014-12-05/after.png"><img src="/assets/images/2014-12-05/after.png" alt="" /></a>
        <figcaption>my blog was never faster nor easier to deploy!</figcaption>
    </figure>
</center>

<h2 id="deployment-via-git">Deployment via git</h2>

<h3 id="the-local-repository">The local repository</h3>
<p>You can host your site on <a href="https://about.gitlab.com/">Gitlab</a>, <a href="https://github.com/">Github</a> or something else - just like I do.
But if you want to start from scratch you can make a folder and initialize git in it, after that you can copy over your Jekyll files.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">mkdir jekyll <span class="o">&amp;&amp;</span> <span class="nb">cd </span>jekyll
git init
cp -r /path/to/old_jekyll_folder /path/to/jekyll
git add .
git commit -am <span class="s2">&quot;initial commit.&quot;</span></code></pre></div>

<h3 id="the-remote-repository">The remote repository</h3>
<p>Now we need a new repository on your web-server, but it doesn’t need to be inside your web directory - just somewhere inside the system. I assume you have configured your public-key to work as a login and you also need write-privileges to the web directory with this user.<br />
First we need to initialize the repository:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#Initialized empty Git repository in /home/nh/website.git/</span>
mkdir website.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>website.git
git init --bare</code></pre></div>

<p>Then we need define a post-receive hook that checks out the latest changes into the web-servers DocumentRoot (this directory must exist; Git will not create it for you):</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">nano hooks/post-receive</code></pre></div>

<p>Put this inside the file:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c">#!/bin/sh</span>
<span class="nv">GIT_WORK_TREE</span><span class="o">=</span>/var/www/www.example.org git checkout -f</code></pre></div>

<p>After that we need to enable the hook which will be triggered every time we push our changes to this repository. It will apply every commit to the directory which you have defined inside the post-receive hook.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">chmod +x hooks/post-receive</code></pre></div>

<p>We are now done on the server and we only need to set up the update process on the local system.</p>

<h3 id="the-update-process">The update process</h3>
<p>First we need to edit our git config file in our local repository to add the remote server.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">nano .git/config</code></pre></div>

<p>Add this to the file:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="o">[</span>remote <span class="s2">&quot;production&quot;</span><span class="o">]</span>
    <span class="nv">url</span> <span class="o">=</span> username@webserver:/home/nh/website.git</code></pre></div>

<p>That’s it! Now you have set up your deployment! To deploy your jekyll changes is now as easy as this:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">git push production</code></pre></div>

<hr />

<h2 id="make-jekyll-fly">Make jekyll fly</h2>

<blockquote>
This is the fastest site I've ever built.
</blockquote>

<center>
    <figure class="half">
        <a href="/assets/images/2014-12-05/before.png"><img src="/assets/images/2014-12-05/before.png" alt="" /></a>
        <a href="/assets/images/2014-12-05/after.png"><img src="/assets/images/2014-12-05/after.png" alt="" /></a>
        <figcaption>before and after</figcaption>
    </figure>
</center>

<h3 id="optimizing-the-web-server">Optimizing the web-server</h3>
<p>Since I wanted to optimize my server I looked for a site which would allow me to test my servers performance and maybe also give me hints, than I found <a href="http://tools.pingdom.com/fpt/#!/dG49JO/http://blog.niklas-heer.de">pingdom</a> which is a really good tool to test your site!</p>

<p>First I installed <a href="https://developers.google.com/speed/pagespeed/module">Googles Pagespeed</a> on my CentOS machine which was a <a href="http://www.tecmint.com/install-mod_pagespeed-website-optimizer-for-apache-in-rhel-centos-and-fedora/">fairly easy process</a>.</p>

<p>Now I needed some optimization of my servers cache, for this I needed to use the <code>mod_expires</code> module of my apache installation.<br />
I made a new file <code>/etc/httpd/conf.d/expires.conf</code> with the following content:</p>

<div class="highlight"><pre><code class="language-apache" data-lang="apache"><span class="nb">ExpiresActive</span> <span class="k">On</span>
<span class="nb">ExpiresByType</span> image/gif <span class="s2">&quot;access plus 1 month&quot;</span>
<span class="nb">ExpiresByType</span> image/png <span class="s2">&quot;access plus 1 month&quot;</span>
<span class="nb">ExpiresByType</span> image/jpeg <span class="s2">&quot;access plus 1 month&quot;</span>
<span class="nb">ExpiresByType</span> text/css <span class="s2">&quot;access plus 1 month&quot;</span>
<span class="nb">ExpiresByType</span> text/javascript <span class="s2">&quot;access plus 1 month&quot;</span>
<span class="nb">ExpiresByType</span> application/x-javascript <span class="s2">&quot;access plus 1 month&quot;</span>
<span class="nb">ExpiresByType</span> application/x-shockwave-flash <span class="s2">&quot;access plus 1 month&quot;</span></code></pre></div>

<p>After that I edited my DNS entry to use <a href="https://www.cloudflare.com">CloudFlare</a> which I <em>highly</em> recommend to you!</p>

<p>Now I have a really fast Apache web-server with caching and <a href="https://www.cloudflare.com">CloudFlare</a> enabled.</p>

<h3 id="optimizing-pictures">Optimizing pictures</h3>
<p>You can make images smaller by using <a href="https://github.com/toy/image_optim">image_optim</a>! This is a great tool and fairly simple to install:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">gem install image_optim image_optim_pack</code></pre></div>

<p>If you want the full suit you also need to do this on ArchLinux:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">yaourt -S pngout
sudo npm install -g svgo</code></pre></div>

<p>After that you can simply go to the directory in which you stored your pictures and let <a href="https://github.com/toy/image_optim">image_optim</a> run through all subdirectories and files recursively with this command:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># WARNING: This could take a while!</span>
image_optim -r .</code></pre></div>

<hr />

<h2 id="hiding-the-clutter">Hiding the clutter</h2>

<p>I have made an <code>.htaccess</code> file for this reason, but since I have the opportunity to simply change the DocumentRoot to <code>_site</code> I did that instead!<br />
Maybe it will help you!</p>

<script src="https://gist.github.com/niklas-heer/f1392572c9f0469f2133.js"> </script>


      <footer class="entry-meta">
        <span class="entry-tags"><a href="//niklas-heer.de/tags/#code" title="Pages tagged code" class="tag">code</a><a href="//niklas-heer.de/tags/#jekyll" title="Pages tagged jekyll" class="tag">jekyll</a><a href="//niklas-heer.de/tags/#linux" title="Pages tagged linux" class="tag">linux</a><a href="//niklas-heer.de/tags/#git" title="Pages tagged git" class="tag">git</a><a href="//niklas-heer.de/tags/#web" title="Pages tagged web" class="tag">web</a></span>
        <span><a href="//niklas-heer.de/jekyll-from-zero-to-hero/" rel="bookmark" title="Jekyll - from zero to hero">Jekyll - from zero to hero</a> was published on <span class="entry-date date published updated"><time datetime="2014-12-05T15:16:47+01:00">December 05, 2014</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="//niklas-heer.de/about/" title="About Niklas Heer">Niklas Heer</a></span></span>
        <div class="social-share">
  <ul class="socialcount socialcount-small inline-list">
    <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=//niklas-heer.de/jekyll-from-zero-to-hero/" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
    <li class="twitter"><a href="https://twitter.com/intent/tweet?text=//niklas-heer.de/jekyll-from-zero-to-hero/" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
    <li class="googleplus"><a href="https://plus.google.com/share?url=//niklas-heer.de/jekyll-from-zero-to-hero/" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
  </ul>
</div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    <div class="read-more">
  
    <div class="read-more-header">
      <a href="//niklas-heer.de/vtop-an-unknown-beauty/" class="read-more-btn">Read More</a>
    </div><!-- /.read-more-header -->
    <div class="read-more-content">
      <h3><a href="//niklas-heer.de/vtop-an-unknown-beauty/" title="vtop an unknown terminal beauty">vtop an unknown terminal beauty</a></h3>
      <p>Wow such top. So stats. More better than regular top. Written in node.jsvtopI’ve been using top since I started maintaining a server in 2...&hellip; <a href="//niklas-heer.de/vtop-an-unknown-beauty/">Continue reading</a></p>
    </div><!-- /.read-more-content -->
  
  <div class="read-more-list">
    
      <div class="list-item">
        <h4><a href="//niklas-heer.de/jekyll/update/hello-jekyll/" title="Hello Jekyll!">Hello Jekyll!</a></h4>
        <span>Published on November 30, 2014</span>
      </div><!-- /.list-item -->
    
      <div class="list-item">
        <h4><a href="//niklas-heer.de/r-i-p-whatsapp-es-lebe-telegram/" title="R.I.P. WhatsApp - Es lebe Telegram!">R.I.P. WhatsApp - Es lebe Telegram!</a></h4>
        <span>Published on February 20, 2014</span>
      </div><!-- /.list-item -->
    
  </div><!-- /.read-more-list -->
</div><!-- /.read-more -->
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Niklas Heer.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="//niklas-heer.de/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="//niklas-heer.de/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27512118-6', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>



    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'niklasheer'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script'); s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</body>
</html>
